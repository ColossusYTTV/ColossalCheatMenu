//using Colossal.Menu;
//using Colossal.Patches;
//using GorillaNetworking;
//using GorillaTagScripts;
//using Photon.Pun;
//using Photon.Voice.Unity;
//using Photon.Voice.Unity.UtilityScripts;
//using POpusCodec.Enums;
//using System;
//using System.Collections.Generic;
//using System.Linq;
//using System.Text;
//using System.Threading.Tasks;
//using Unity.Mathematics;
//using UnityEngine;
//using UnityEngine.XR;

//namespace Colossal.Mods
//{
//    public class AudioCrash : MonoBehaviour
//    {
//        public void Update()
//        {
//            if (PluginConfig.audiocrash)
//            {
//                if(PhotonNetwork.InRoom)
//                {
//                    Recorder component = GorillaTagger.Instance.myRecorder;

//                    component.SourceType = Photon.Voice.Unity.Recorder.InputSourceType.AudioClip;
//                    component.AudioClip = GameObject.Find("SoundPostForest").GetComponent<SynchedMusicController>().audioSource.clip;

//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                    component.RestartRecording(true);
//                }
//            }
//            else
//            {
//                Music.stopsoundboard();

//                Destroy(this.GetComponent<AudioCrash>());
//            }
//        }
//    }
//}
